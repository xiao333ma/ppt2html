{"assets":{"3F852E89E26A56EE7A54EAF02497C47C":{"type":"texture","index":0,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/92BEFF83-E880-40D6-BD54-2387FB96D451.pdf"},"width":1024,"height":768},"ACEF045342AE54EEBF8832CD8865B10C":{"type":"texture","index":2,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/92BEFF83-E880-40D6-BD54-2387FB96D451.pdf"},"width":1024,"height":576},"22D88C4E5CFB6B1A7A14E45D6FC4D186":{"type":"texture","index":1,"assetRequest":{"type":"slide","state":"contents","slide":"none"},"url":{"native":"assets\/92BEFF83-E880-40D6-BD54-2387FB96D451.pdf"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00049229876906403734,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[{"timeOffset":0,"beginTime":0,"repeatCount":0,"animations":[{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":-4096},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.translation.z","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":0}},{"timeOffset":0,"from":{"scalar":0.10000000000000001},"beginTime":0,"repeatCount":0,"fillMode":"removed","duration":2,"autoreverses":false,"timingFunction":"EaseIn","property":"opacity","to":{"scalar":1}}],"fillMode":"both","autoreverses":false,"duration":2}],"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":1056},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":576,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"ACEF045342AE54EEBF8832CD8865B10C"}],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"22D88C4E5CFB6B1A7A14E45D6FC4D186"},{"animations":[{"timeOffset":0,"beginTime":0,"repeatCount":0,"animations":[{"timeOffset":0,"from":{"scalar":1},"beginTime":0,"repeatCount":0,"fillMode":"both","property":"opacity","autoreverses":false,"duration":0.016666666666666666,"to":{"scalar":0}}],"fillMode":"both","autoreverses":false,"duration":2}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3F852E89E26A56EE7A54EAF02497C47C"},{"animations":[{"timeOffset":0,"beginTime":0,"repeatCount":0,"animations":[{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":0},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.rotation.y","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":2.1991148575128552}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":1},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.scale.xy","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":2}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"pointX":0,"pointY":384},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"position","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"pointX":-512,"pointY":384}}],"fillMode":"both","autoreverses":false,"duration":2}],"initialState":{"affineTransform":[1,0,0,1,0,0],"scale":1,"rotation":0,"masksToBounds":false,"position":{"pointX":0,"pointY":384},"backgroundColor":[0,0,0,1],"width":512,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0,"pointY":0.5}},"layers":[]},{"animations":[{"timeOffset":0,"beginTime":0,"repeatCount":0,"animations":[{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":0},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.rotation.y","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":-2.1991148575128552}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":1},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.scale.xy","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":2}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"pointX":1024,"pointY":384},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"position","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"pointX":1536,"pointY":384}}],"fillMode":"both","autoreverses":false,"duration":2}],"initialState":{"affineTransform":[1,0,0,1,0,0],"scale":1,"rotation":0,"masksToBounds":false,"position":{"pointX":1024,"pointY":384},"backgroundColor":[0,0,0,1],"width":512,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":1,"pointY":0.5}},"layers":[]},{"animations":[{"timeOffset":0,"beginTime":0,"repeatCount":0,"animations":[{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":0},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.rotation.y","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":2.1991148575128552}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":1},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"opacity","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":0}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":1},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.scale.xy","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":2}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"pointX":0,"pointY":384},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"position","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"pointX":-512,"pointY":384}}],"fillMode":"both","autoreverses":false,"duration":2}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":0,"pointY":384},"width":512,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":0.5,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0,"pointY":0.5}},"texture":"3F852E89E26A56EE7A54EAF02497C47C"},{"animations":[{"timeOffset":0,"beginTime":0,"repeatCount":0,"animations":[{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":0},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.rotation.y","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":-2.1991148575128552}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":1},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"opacity","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":0}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"scalar":1},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"transform.scale.xy","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"scalar":2}},{"repeatCount":0,"timingControlPoint2y":1,"from":{"pointX":1024,"pointY":384},"timingFunction":"custom","timeOffset":0,"autoreverses":false,"timingControlPoint1x":0.29726776480674744,"fillMode":"removed","property":"position","duration":2,"beginTime":0,"timingControlPoint2x":0.69753515720367432,"timingControlPoint1y":0,"to":{"pointX":1536,"pointY":384}}],"fillMode":"both","autoreverses":false,"duration":2}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":1024,"pointY":384},"width":512,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0.5,"width":0.5,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":1,"pointY":0.5}},"texture":"3F852E89E26A56EE7A54EAF02497C47C"}]}]},"effects":[],"duration":2,"type":"transition","name":"apple:doorway","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"再来看看PMKResolve函数，它是Promise的真正核心。它执行所有的handler操作，并且设置result值。因为之前有把block存在handler中，所以block就可以顺利执行。","targetRectangle":{"y":129.76356244087219,"x":105.02842712402344,"width":856.96799999999996,"height":99}},{"text":"这个一个递归函数，能形成递归的条件就是那句PMKResolve(this,o);当nextResult = nil时候，此时这个promise还是pending状态，还没有被执行，这个时候就要递归调用，直到nextResult不为nil,就会调用set方法，set方法是一个匿名函数，里面for循环会依次循环，执行handler数组里面的每一个block。里面的if语句先判断result是否是一个promise，如果不是promise，就会执行set方法，依次调用各个block。","targetRectangle":{"y":590.38000392913818,"x":105.02842712402344,"width":870.096,"height":165}},{"text":"pasted-image.png","targetRectangle":{"y":238.10697937011719,"x":102.54576110839844,"width":739.31585693359375,"height":342.92959594726562}},{"text":"二、PromiseKit的原理","targetRectangle":{"y":49.845763444900513,"x":25.500002861022949,"width":370.88,"height":53}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00049229876906403734,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"3F852E89E26A56EE7A54EAF02497C47C"}]}]}}]}